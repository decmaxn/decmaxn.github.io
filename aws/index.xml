<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Aws on Victor Ma</title><link>https://decmaxn.github.io/aws/</link><description>Recent content in Aws on Victor Ma</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 09 Apr 2023 16:40:18 -0400</lastBuildDate><atom:link href="https://decmaxn.github.io/aws/index.xml" rel="self" type="application/rss+xml"/><item><title>Api Gateway Under the Hood</title><link>https://decmaxn.github.io/aws/api-gateway-under-the-hood/</link><pubDate>Sun, 09 Apr 2023 16:40:18 -0400</pubDate><guid>https://decmaxn.github.io/aws/api-gateway-under-the-hood/</guid><description>底层设施 AWS API Gateway使用了多个分布式系统组件来提供其服务。这些组件包括 Amazon CloudFront、Amazon Route 53、AWS Elastic Load Balancing、AWS Lambda 等等。
当您创建一个 API Gateway 时，API Gateway 会在后台自动创建一个或多个 Amazon API Gateway REST API，并为每个 REST API 创建一个 Amazon CloudFront 分发。每个分发都有一个唯一的 DNS 名称，它充当 API 的公共入口点。
当客户端发送请求到 API Gateway 时，请求将被路由到正确的 Amazon CloudFront 分发。然后，Amazon CloudFront 将请求转发到与该 REST API 关联的 AWS Elastic Load Balancing 负载均衡器。负载均衡器将请求路由到一个或多个后端服务（如 AWS Lambda 函数或 EC2 实例）。
设计构架 RestApi 在整个 API Gateway 中，AWS::ApiGateway::RestApi 位于 API Gateway 的顶层，它表示整个 API 的定义和配置。
1 2 3 4 Endpoint:Type:AWS::ApiGateway::RestApiProperties:Name:Endpoint 这里仅仅是定义了 REST API 的名称，还没有定义 API 的具体资源和方法，因为它们需要使用 AWS::ApiGateway::Resource 和 AWS::ApiGateway::Method 资源类型进行定义。在定义了资源和方法之后，您需要使用 AWS::ApiGateway::Deployment 资源类型进行部署，才能将 API 置于生效状态。</description></item><item><title>Free (almost) Aws Ec2 Instance</title><link>https://decmaxn.github.io/aws/free-aws-ec2-instance/</link><pubDate>Wed, 05 Apr 2023 18:32:01 -0400</pubDate><guid>https://decmaxn.github.io/aws/free-aws-ec2-instance/</guid><description>Create a free Linux EC2 instance Free Trial: Try Amazon EC2 t4g.small instances powered by AWS Graviton2 processors free for up to 750 hours / month until Dec 31st 2023. https://aws.amazon.com/blogs/aws/new-t4g-instances-burstable-performance-powered-by-aws-graviton2/
Although the instance is free, but I have been charge a few cents per day under category of &amp;ldquo;EC2 - Other&amp;rdquo; for type of EBS:VolumeUsage.gp2. There is no free tier or trail for EBS as far as I know.</description></item><item><title>AWS_Workspace</title><link>https://decmaxn.github.io/aws/docker_on_aws_workspace/</link><pubDate>Thu, 02 Mar 2023 22:33:15 -0500</pubDate><guid>https://decmaxn.github.io/aws/docker_on_aws_workspace/</guid><description>Develop Docker appliation in Windows workspace? Don&amp;rsquo;t expect to see AWS created public Images based on Windows 10 Desktop, they are all Windows Server based.
However, I get myself into installing Docker Desktop on a &amp;ldquo;Windows 10(Server 2019 based)&amp;rdquo; workspace. Just wan to know if it works.
Create workspace 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 Profile=&amp;lt;profile&amp;gt; Region=&amp;lt;region&amp;gt; # existing Directory Service dreictory $ aws ds --profile $Profile --region $Region \ describe-directories --query &amp;#39;DirectoryDescriptions[].</description></item><item><title>Swap_ecs_task_in_service</title><link>https://decmaxn.github.io/aws/swap_ecs_task_in_service/</link><pubDate>Wed, 15 Feb 2023 08:50:56 -0500</pubDate><guid>https://decmaxn.github.io/aws/swap_ecs_task_in_service/</guid><description>Start another ECS task for service before stop the original task I have made an improvement to my stop ecs task Lambda function that manages my ECS service in a more graceful manner. Previously, it would stop the task associated with my ECS service to trigger a service refresh. This would result in the service being offline for a few minutes.
With this improvement, it now increases the task count to 2, effectively launching a new task.</description></item><item><title>Stop_ecs_task</title><link>https://decmaxn.github.io/aws/stop_ecs_task/</link><pubDate>Mon, 13 Feb 2023 08:43:10 -0500</pubDate><guid>https://decmaxn.github.io/aws/stop_ecs_task/</guid><description>Interact with AWS resource with boto3 This is used in an AWS Lambda been triggered daily to do a maintenance task. The infrastructure part is done by SAM.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 import boto3 import os # The handler function is triggered when the AWS Lambda function is executed.</description></item></channel></rss>