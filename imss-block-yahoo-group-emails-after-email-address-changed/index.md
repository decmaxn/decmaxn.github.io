# IMSS Block Yahoo Group emails after email address changed


<div id="page-heading"><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Symptoms:</span></span></h2><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">User can no longer receive emails from her yahoo groups after she changed her email address. Yahoo group website gives error code for the bounce back, but their support doesn’t reply her for details.&nbsp; The error code is:</span></span><br /><blockquote class="tr_bq"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Last Bounced Message</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Remote host said: 501 Syntax error in parameters or arguments [MAIL_FROM]</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></blockquote><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">From IMSS’s log, I couldn’t find any record of either passed or whatever. </span></span><br /><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Find Sender Email address</span></span></h2><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Trend Micro support ask for the sender address, but what user reads xxxx@yahoogroups.ca is not the real sender. I found the real sender by ask user to switch back to their old email address and check the IMSS log for incoming emails. However, you can find it in email header, it like this:</span></span><br /><blockquote class="tr_bq"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Return-Path: sentto-xxxxxxx-xxxxxxx-xxxxxxxx-xxxxxxxxxxxxxxxxxx=xxxxx.xxx.xxx@returns.groups.yahoo.com</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></blockquote><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;"><br /></span></span><br /><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Root Cause:</span></span></h2><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">After found the sender, support find the root cause easily. Refer to this KB.&nbsp; <br />Root cause is the Email address length. About Email Address length, I found this online, and there seems to have different standards.</span></span><br /><blockquote class="tr_bq"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">“There appears to be some confusion over the maximum valid email address size. Most people believe it to be 320 characters (64 characters for the username + 255 characters for the domain + 1 character for the @ symbol). Other sources suggest 129 (64 + 1 + 64) or 384 (128+1+255, assuming the username doubles in length in the future.”</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></blockquote><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Trend Micro support claim they follow an RFC standard limited to 64 characters before the @ symbol. After my user change her email address, the sender address is longer than 64 characters now. </span></span><br /><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Solution:</span></span></h2><h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></h2><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">Trend Micro has released a hot fix to disable this checking for version 7.0, and support has confirmed only an extra line in an ini file is needed for version 7.1. Restart a service after that.&nbsp; </span></span><br /><blockquote class="tr_bq"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">C:\Program Files\Trend Micro\IMSS\config\tsmtpd.ini</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">CheckSenderLength=0</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">net stop “Trend Micro IMSS SMTP Service”</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: small;">net start “Trend Micro IMSS SMTP Service”</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"></span></blockquote><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /><span style="mso-bidi-font-weight: normal;"><span style="font-size: 20.0pt; mso-bidi-font-size: 11.0pt;"></span></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /><span style="mso-bidi-font-weight: normal;"><span style="font-size: 20.0pt; mso-bidi-font-size: 11.0pt;"></span></span></span>  </div>

