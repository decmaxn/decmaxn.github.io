<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Dns From Name Tag - Victor Ma</title><meta name=Description content="Victro Ma's blog"><meta property="og:title" content="Dns From Name Tag"><meta property="og:description" content="Create Route53 records based on EC2 Tags.Name  There might have duplicated Tags.Name, so array is used to pick them up and manipulate. Tags.Name might include charactors not qualified for dns name, regular expression is used to remove them. There might be no Tags.Name, next()函数and返回生成器is used.  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89  import boto3 import re import json session = boto3."><meta property="og:type" content="article"><meta property="og:url" content="https://decmaxn.github.io/python/dns-from-name-tag/"><meta property="og:image" content="https://decmaxn.github.io/logo.png"><meta property="article:published_time" content="2023-04-03T01:25:46-04:00"><meta property="article:modified_time" content="2023-04-05T01:38:20-04:00"><meta property="og:site_name" content="Victor Ma"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://decmaxn.github.io/logo.png"><meta name=twitter:title content="Dns From Name Tag"><meta name=twitter:description content="Create Route53 records based on EC2 Tags.Name  There might have duplicated Tags.Name, so array is used to pick them up and manipulate. Tags.Name might include charactors not qualified for dns name, regular expression is used to remove them. There might be no Tags.Name, next()函数and返回生成器is used.  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89  import boto3 import re import json session = boto3."><meta name=application-name content="Victor Ma"><meta name=apple-mobile-web-app-title content="Victor Ma"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://decmaxn.github.io/python/dns-from-name-tag/><link rel=prev href=https://decmaxn.github.io/python/misc_package_module/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Dns From Name Tag","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/decmaxn.github.io\/python\/dns-from-name-tag\/"},"image":["https:\/\/decmaxn.github.io\/images\/Apple-Devices-Preview.png"],"genre":"python","keywords":"coding, python, aws","wordcount":383,"url":"https:\/\/decmaxn.github.io\/python\/dns-from-name-tag\/","datePublished":"2023-04-03T01:25:46-04:00","dateModified":"2023-04-05T01:38:20-04:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"xxxx","logo":"https:\/\/decmaxn.github.io\/images\/avatar.png"},"author":{"@type":"Person","name":"Victor Ma"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Victor Ma">Victor Ma</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/python/>Python </a><a class=menu-item href=/go/>Go </a><a class=menu-item href=/k8s/>K8s </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/about/>About </a><a class=menu-item href=https://github.com/decmaxn title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw" aria-hidden=true></i></a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Victor Ma">Victor Ma</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/python/>Python</a><a class=menu-item href=/go/>Go</a><a class=menu-item href=/k8s/>K8s</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/about/>About</a><a class=menu-item href=https://github.com/decmaxn title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page single special"><h1 class="single-title animate__animated animate__pulse animate__faster">Dns From Name Tag</h1><div class=content id=content><h2 id=create-route53-records-based-on-ec2-tagsname>Create Route53 records based on EC2 Tags.Name</h2><ol><li>There might have duplicated Tags.Name, so array is used to pick them up and manipulate.</li><li>Tags.Name might include charactors not qualified for dns name, regular expression is used to remove them.</li><li>There might be no Tags.Name, next()函数and返回生成器is used.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>boto3</span>
<span class=kn>import</span> <span class=nn>re</span>
<span class=kn>import</span> <span class=nn>json</span>

<span class=n>session</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>Session</span><span class=p>()</span>
<span class=n>ec2</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s1>&#39;ec2&#39;</span><span class=p>)</span>
<span class=n>route53_client</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s1>&#39;route53&#39;</span><span class=p>)</span>

<span class=n>HOSTED_ZONE_ID</span> <span class=o>=</span> <span class=s2>&#34;REPLACE WITH YOUR ZONE ID&#34;</span>
<span class=n>ZONE</span> <span class=o>=</span> <span class=s2>&#34;.example.com&#34;</span>

<span class=c1># 获取所有运行中的实例</span>
<span class=n>response</span> <span class=o>=</span> <span class=n>ec2</span><span class=o>.</span><span class=n>describe_instances</span><span class=p>(</span><span class=n>Filters</span><span class=o>=</span><span class=p>[</span>
    <span class=p>{</span><span class=s1>&#39;Name&#39;</span><span class=p>:</span> <span class=s1>&#39;instance-state-name&#39;</span><span class=p>,</span> <span class=s1>&#39;Values&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;running&#39;</span><span class=p>]}</span>
<span class=p>])</span>

<span class=c1># 用于存储实例标签的字典, 检测相同名字的list</span>
<span class=n>instance_dict</span> <span class=o>=</span> <span class=p>{}</span>
<span class=n>dns_names</span> <span class=o>=</span> <span class=p>[]</span>

<span class=c1># 遍历每个实例，获取实例ID和标签</span>
<span class=k>for</span> <span class=n>reservation</span> <span class=ow>in</span> <span class=n>response</span><span class=p>[</span><span class=s1>&#39;Reservations&#39;</span><span class=p>]:</span>
    <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>reservation</span><span class=p>[</span><span class=s1>&#39;Instances&#39;</span><span class=p>]:</span>
        <span class=n>instance_id</span> <span class=o>=</span> <span class=n>instance</span><span class=p>[</span><span class=s1>&#39;InstanceId&#39;</span><span class=p>]</span>
        <span class=n>private_ip</span> <span class=o>=</span> <span class=n>instance</span><span class=p>[</span><span class=s1>&#39;PrivateIpAddress&#39;</span><span class=p>]</span>
        <span class=n>tags</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;Tags&#39;</span><span class=p>,</span> <span class=p>[])</span>
        <span class=c1># 生成器tag for tag in tags if tag[&#39;Key&#39;] == &#39;Name&#39;是一种可迭代对象，可以逐个地产生值，而不必等待所有值都生成</span>
        <span class=c1># next()函数返回生成器的下一个值，并将生成器的内部指针向前移动。如果没有更多的值可以生成，next()函数将引发StopIteration异常。</span>
        <span class=c1># 从标签列表tags中获取Key为&#39;Name&#39;的标签对象。如果找到了这样的标签，则next()函数返回该标签对象；否则，它将返回None</span>
        <span class=c1># 该标签对象是一个字典，其包含&#39;Key&#39;为&#39;Name&#39;的键和对应的&#39;Value&#39;</span>
        <span class=c1># 如果生成器表达式没有找到匹配的标签，则name_tag将是NoneType。</span>
        <span class=n>name_tag</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>tag</span> <span class=k>for</span> <span class=n>tag</span> <span class=ow>in</span> <span class=n>tags</span> <span class=k>if</span> <span class=n>tag</span><span class=p>[</span><span class=s1>&#39;Key&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;Name&#39;</span><span class=p>),</span> <span class=bp>None</span><span class=p>)</span>
        <span class=c1># 如果name_tag是一个标签字典，则可以使用name_tag[&#39;Value&#39;]来获取实例的名称。 name是string</span>
        <span class=n>name</span> <span class=o>=</span> <span class=n>name_tag</span><span class=p>[</span><span class=s1>&#39;Value&#39;</span><span class=p>]</span> <span class=k>if</span> <span class=n>name_tag</span> <span class=k>else</span> <span class=s1>&#39;no-tag&#39;</span>
        
        <span class=c1># 构造DNS名称</span>
        <span class=c1># 删除括号及其内部内容</span>
        <span class=n>dns_name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\([^)]*\)&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
        <span class=c1># 删除行尾的“server”或“Server”</span>
        <span class=n>dns_name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;(-)?[Ss]erver$&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>dns_name</span><span class=p>)</span>
        <span class=c1># 删除行尾的“DONOTSTART”</span>
        <span class=n>dns_name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;DONOTSTART&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>dns_name</span><span class=p>)</span>
        <span class=c1># 删除行尾的“-”字符</span>
        <span class=n>dns_name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;[-\s]+$&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>dns_name</span><span class=p>)</span>
        <span class=c1># 将空格替换为“-”</span>
        <span class=n>dns_name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\s+&#39;</span><span class=p>,</span> <span class=s1>&#39;-&#39;</span><span class=p>,</span> <span class=n>dns_name</span><span class=p>)</span>
        <span class=c1># 如果DNS名称已经存在，添加数字</span>
        <span class=n>count</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=k>while</span> <span class=n>dns_name</span> <span class=ow>in</span> <span class=n>dns_names</span><span class=p>:</span>
            <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=n>dns_name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;(-\d+)?$&#39;</span><span class=p>,</span> <span class=s1>&#39;-&#39;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>count</span><span class=p>),</span> <span class=n>dns_name</span><span class=p>)</span>
        <span class=n>dns_names</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>dns_name</span><span class=p>)</span>
        <span class=c1># 加上你自己的域名</span>
        <span class=n>dns_name</span> <span class=o>+=</span> <span class=n>ZONE</span>

        <span class=c1># Register the DNS record</span>
        <span class=n>response</span> <span class=o>=</span> <span class=n>route53_client</span><span class=o>.</span><span class=n>change_resource_record_sets</span><span class=p>(</span>
            <span class=n>HostedZoneId</span><span class=o>=</span> <span class=n>HOSTED_ZONE_ID</span><span class=p>,</span>
            <span class=n>ChangeBatch</span><span class=o>=</span><span class=p>{</span>
                <span class=s1>&#39;Changes&#39;</span><span class=p>:</span> <span class=p>[</span>
                    <span class=p>{</span>
                        <span class=s1>&#39;Action&#39;</span><span class=p>:</span> <span class=s1>&#39;UPSERT&#39;</span><span class=p>,</span>
                        <span class=s1>&#39;ResourceRecordSet&#39;</span><span class=p>:</span> <span class=p>{</span>
                            <span class=s1>&#39;Name&#39;</span><span class=p>:</span> <span class=n>dns_name</span><span class=p>,</span>
                            <span class=s1>&#39;Type&#39;</span><span class=p>:</span> <span class=s1>&#39;A&#39;</span><span class=p>,</span>
                            <span class=s1>&#39;TTL&#39;</span><span class=p>:</span> <span class=mi>300</span><span class=p>,</span>
                            <span class=s1>&#39;ResourceRecords&#39;</span><span class=p>:</span> <span class=p>[</span>
                                <span class=p>{</span>
                                    <span class=s1>&#39;Value&#39;</span><span class=p>:</span> <span class=n>private_ip</span>
                                <span class=p>}</span>
                            <span class=p>]</span>
                        <span class=p>}</span>
                    <span class=p>}</span>
                <span class=p>]</span>
            <span class=p>}</span>
        <span class=p>)</span>
        <span class=n>change_info</span> <span class=o>=</span> <span class=n>response</span><span class=p>[</span><span class=s1>&#39;ChangeInfo&#39;</span><span class=p>]</span>
        <span class=n>status</span> <span class=o>=</span> <span class=n>change_info</span><span class=p>[</span><span class=s1>&#39;Status&#39;</span><span class=p>]</span>
        
        <span class=c1># 将实例ID，标签和DNS名称添加到字典中</span>
        <span class=n>instance_dict</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;private_ip&#39;</span><span class=p>:</span> <span class=n>private_ip</span><span class=p>,</span> <span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=n>status</span><span class=p>,</span> <span class=s1>&#39;dns_name&#39;</span><span class=p>:</span> <span class=n>dns_name</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=n>name</span><span class=p>}</span>

<span class=c1># 打印字典中的所有实例</span>
<span class=k>for</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>instance_info</span> <span class=ow>in</span> <span class=n>instance_dict</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
    <span class=n>dns_name</span> <span class=o>=</span> <span class=n>instance_info</span><span class=p>[</span><span class=s1>&#39;dns_name&#39;</span><span class=p>]</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>instance_info</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
    <span class=n>private_ip</span> <span class=o>=</span> <span class=n>instance_info</span><span class=p>[</span><span class=s1>&#39;private_ip&#39;</span><span class=p>]</span>
    <span class=n>status</span> <span class=o>=</span> <span class=n>instance_info</span><span class=p>[</span><span class=s1>&#39;status&#39;</span><span class=p>]</span>
    <span class=k>print</span><span class=p>(</span><span class=n>f</span><span class=s2>&#34;{instance_id} : {status } : {private_ip} : {dns_name} : {name}&#34;</span><span class=p>)</span>
</code></pre></td></tr></table></div></div></div><div id=comments><div id=valine class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://valine.js.org/>Valine</a>.</noscript></div></div></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.68.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i>LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2012 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Victor Ma</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/valine/valine.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/valine@1.5.0/dist/Valine.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{"valine":{"appId":"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI","appKey":"WBmoGyJtbqUswvfLh6L8iEBr","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"en","pageSize":10,"placeholder":"Your comment ...","recordIP":true,"serverURLs":"https://leancloud.hugoloveit.com","visitor":true}},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.en","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>